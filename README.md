# 授業レビューシステム

このリポジトリは、大学の授業レビューシステムを構築するための Ruby on Rails アプリケーションです。
学生が授業のレビューを投稿・閲覧できることで、履修登録の参考に他の学生の意見を活用できます。

---

## 変更履歴

### 2026-02-08
- **日本語化の完了**: アプリケーション全体のUI（ヘッダー、授業一覧、詳細、口コミフォーム、ログイン、登録、マイページ）を日本語化。
- **授業の検索・フィルター・ソート機能の実装**:
  - 授業名、教員名、授業コードによる検索機能を追加。
  - 学部・学科によるフィルター機能を追加。
  - 平均評価順、新着順、授業コード順によるソート機能を追加。
- **マイページ機能の実装**: ログインユーザーが自身のプロフィールと投稿した口コミを閲覧できるページを追加。
- **E2Eテストの更新**:
  - 既存のE2Eテスト（Playwright）を日本語UIに合わせて修正。
  - ログインしていないユーザーがレビュー反応ボタンを見られないことのテストを追加。
- `image_processing` gem の有効化: Active Storage の画像処理機能を利用できるようにGemfileを更新。

### 2025-11-05
- **認証機能のE2Eテストを実装**
  - Playwrightを使用し、ユーザーの新規登録、ログイン、ログアウトのテストケースを追加 (`e2e-tests/tests/auth.spec.ts`)。
- **`ReviewReaction` モデルの実装を確認**
  - モデル、関連付け、バリデーションが設計書通りに実装済みであることを確認。
- **開発プロセスの実行**
  - 作業内容をプルリクエストとして提出し、CIでの自動テストを実行。
  - 全てのテストが成功したことを確認し、`main`ブランチにマージ。

### 2025-10-29
- Reviewモデル（口コミ機能）の実装
  - `reviews_controller` に `new`, `create` アクションを実装
  - 口コミ投稿フォームを設計書に基づき修正
  - 口コミ投稿機能に関するテストを追加・修正
  - `IMPLEMENTATION_PLAN.md` を更新

### 2025-10-27
- 全てのシステムテストがパスするように修正
  - fixture の重複データを修正し、DBのユニーク制約エラーを解消
  - `has_secure_password` を User モデルに追加し、ログイン認証を修正
  - テストコード内のルーティングヘルパーを `_url` から `_path` に統一
  - 認証が必要なテストケースでログイン処理を追加
- RuboCop によるコードスタイル違反を自動修正
- CI (GitHub Actions) の設定ファイルを修正し、全てのジョブが成功するように改善
  - gem のインストール方法をデプロイメントモードに統一
  - `importmap audit` が失敗する問題を、ジョブの統合により解決

### 2025-10-20
- 国際化 (i18n) 対応を実施し、アプリケーション全体を日本語化
- 失敗していたシステムテストを国際化に合わせて修正

### 2025-10-06
- README を標準的な Rails 形式に更新
- プロジェクト構造を Rails 標準に変更
- 授業レビューシステムから Rails アプリケーションへの移行
- マージコンフリクトを解決し、日本語説明を統合

---

## 主な機能

- **授業の検索・フィルター・ソート機能**:
  - 授業名、教員名、授業コードによる検索。
  - 学部・学科によるフィルター。
  - 平均評価順、新着順、授業コード順によるソート。
- **授業レビューの投稿**: 5段階評価とコメントを含む口コミの投稿。
- **レビューの閲覧機能**: 各授業の口コミ一覧を表示。
- **レビューへの反応機能**: 他のユーザーの口コミに対して「参考になった」「参考にならなかった」の反応を送信。
- **ユーザー登録・ログイン・ログアウト機能**: ユーザーアカウント管理。
- **マイページ機能**: ログインユーザーが自身のプロフィール情報と投稿した口コミ一覧を閲覧。
- **国際化対応**: アプリケーション全体のUIが日本語化。

---

## 技術仕様

**Ruby バージョン**: 3.4.6
**Rails バージョン**: 8.1.x
**使用技術・依存関係**:
- Hotwire (Turbo + Stimulus)
- Importmap
- CSS: TailwindCSS
- PostgreSQL（データベース）
- Redis（キャッシュ・セッション管理）
- image_processing (Active Storageの画像処理)

**設定方法**:
- 環境変数は Rails credentials を使用
- データベース設定は `config/database.yml` に記述

**データベース操作**:
```bash
rails db:create
rails db:migrate
rails db:seed
```